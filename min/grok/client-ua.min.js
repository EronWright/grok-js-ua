/*
 * ----------------------------------------------------------------------
 *  Copyright (C) 2006-2012 Numenta Inc. All rights reserved.
 *
 *  The information and source code contained herein is the
 *  exclusive property of Numenta Inc. No part of this software
 *  may be used, reproduced, stored or distributed in any form,
 *  without explicit written authorization from Numenta Inc.
 * ---------------------------------------------------------------------- */(function(a){var b=a.GROK;b.Client=function(a,c){this._validated=!1;if(!b.util.isSet(a))throw new Error('Cannot create GROK Client without an API Key:\nnew GROK.Client("my-api-key");');c=c||{},c.apiKey=a,b.ApiObject.call(this,{},c),c.user&&c.user.id&&(this.setScalars(c.user),this._validated=!0),this.constructor=b.Client},b.Client.prototype=b.util.heir(b.ApiObject.prototype),b.Client.prototype.constructor=b.ApiObject,b.Client.NAMESPACE="users",b.Client.prototype.init=function(a){var b=this;this.makeRequest({method:"GET",path:"users",success:function(c){b.setScalars(c.users[0]),b._validated=!0,a(null)},failure:function(c){if(c.message!=="Unauthorized")throw c;a(new Error('Invalid API key: "'+b.getApiKey()+'"'))}})},b.Client.prototype.showServices=function(a){this.makeRequest({path:"services",success:function(b){a(null,b)},failure:function(b){a(b)}})},b.Client.prototype.systemStatus=function(a){this.makeRequest({path:"admin",success:function(b){a(null,b)},failure:function(b){a(b)}})},b.Client.prototype.isValidated=function(){return this._validated},b.Client.prototype.createProject=function(a,c){c=c||function(){},this.createObject(b.Project,{name:a},c)},b.Client.prototype.createStream=function(a,c){c=c||function(){},this.createObject(b.Stream,a,c)},b.Client.prototype.createModel=function(a,c){c=c||function(){},this.createObject(b.Model,a,c)},b.Client.prototype.getProject=function(a,c){this.getObject(b.Project,a,c)},b.Client.prototype.listProjects=function(a){this.listObjects(b.Project,a)},b.Client.prototype.listModels=function(a){this.listObjects(b.Model,{all:!0},a)},b.Client.prototype.listStreams=function(a){this.listObjects(b.Stream,a)}})(window);